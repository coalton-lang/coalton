sbcl --non-interactive \
     --eval '(ql:quickload :coalton)' \
     --eval '(cl:format t "XXXSTEP1~%")' \
     --eval '(ql:quickload :coalton/tests)' \
     --eval '(cl:format t "XXXSTEP2~%")' \
     --eval '(asdf:test-system :coalton)' \
     --eval '(cl:format t "XXXSTEP3~%")'

1) BUG (?):
Currently code compiles and runs the tests without any warnings/errors.

However, the situation is still not perfect. First of all, macros try-xxx have a different form. Some (e.g., try-muffle-code-deletion-note-condition) are unquoted, while others are double-quoted (e.g., try-muffle-redefinition-warning-condition). Why?

Their usage pattern differs as well. Some are used as-is, e.g., "(declare (compat:try-muffle-code-deletion-note-condition))", while others are used with a #., e.g., "list '(declaim #.(compat:try-muffle-redefinition-warning-condition))". Again, why?

I think that we need to clarify the scenarios where these macros appear. Are they in plain Lisp code? Are they in code that will be generated by the coalton-lang compiler?
Does that matter for how they should be called? If so, should we have different groups? E.g., try-from-lisp-xxx vs try-from-coalton-xxx ?

(old)
        examples/quil-coalton/src/string-view.lisp: demonstrates that the try-muffle-compiler-note-condition doesn't work (and so does try-unmuffle-redefinition-warning-condition).
        src/codegen/program.lisp: demonstrates that the try-muffle-redefinition-warning-condition doesn't work either. Also contains some code checking "sb-ext:*block-compile-default*", which needs further investigation (once the aforementioned bugs get fixed).

2) Not considered yet:
src/runtime/function-entry.lisp: sbcl-specific code is different from what appears in the other files.  (declaim (sb-ext:start-block ,@funs)) / (declaim (sb-ext:end-block))
src/typechecker/kinds.lisp: sbcl-specific code is different from what appears in the other files. (declaim (sb-ext:always-bound *next-kvar-id*))
src/typechecker/types.lisp: sbcl-specific code is different from what appears in the other files. (declaim (sb-ext:always-bound *next-variable-id*))
library/classes.lisp: sbcl-specific code is different from what appears in the other files. (repr :native (cl:unsigned-byte 62)) / (cl:error "hashing is not supported on ~A" (cl:lisp-implementation-type))

3) Not sensible to touch:
library/big-float/impl-sbcl.lisp: the whole file is sbcl-specific, so doesn't make sense to try to make it "compatible".

4) Needs design first:
library/system.lisp: the condition involves coalton code as well:
  (define (monotonic-bytes-consed)
    "Returns the number of bytes consed since some unspecified point in time.

The difference between two successive calls to this function represents the number of bytes consed in that period of time."
    #+sbcl
    (Some (lisp Integer ()
            (sb-ext:get-bytes-consed)))
    #-sbcl
    None)
